<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 1.åŸå‹é“¾ç»§æ‰¿
        /* æ¦‚å¿µ: å­ç±»çš„åŸå‹æŒ‡å‘çˆ¶ç±»çš„å®ä¾‹ 
         * æ³¨æ„ç‚¹: constructorä¼šä¸¢å¤±
         * ç¼ºç‚¹ï¼š
         * 1.å¼•ç”¨ç±»å‹çš„å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº«ï¼Œ
         * 2.åœ¨åˆ›å»º Child çš„å®ä¾‹æ—¶ï¼Œä¸èƒ½å‘Parentä¼ å‚
         * */
        function Parent() {
            this.names = [];
            this.work = function() {
                console.log( 'make money');
            }
        }
        function Child() {};
        // const a = new Parent;
        // console.log('a', a);
        // console.log('a.constructor', a.constructor);
        // constructor
        Child.prototype = new Parent();
        console.log('Child.prototype', Child.prototype);
        console.log('Child.prototype.constructor', Child.prototype.constructor);
        // console.log(Child.constructor); // Æ’ Function() { [native code] }

        Child.prototype.constructor = Child;
        const child1 = new Child();
        console.log('child1', child1);

        // 2.å€Ÿç”¨æ„é€ å‡½æ•°
        /* å®šä¹‰ï¼šåœ¨å­ç±»ä¸­è°ƒç”¨æ„é€ å‡½æ•°ï¼Œå¯ä¼ å‚
         * ç¼ºç‚¹ï¼š
         * 1ã€ä¸èƒ½ç»§æ‰¿çˆ¶ç±»åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§
         * 2ã€æ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œæ— æ³•å¤ç”¨ã€‚ï¼ˆhttps://segmentfault.com/q/1010000004846488ï¼‰
         * ä¼˜ç‚¹ï¼š
         * 1.é¿å…äº†å¼•ç”¨ç±»å‹çš„å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº«
         * 2.å¯ä»¥åœ¨ Child ä¸­å‘ Parent ä¼ å‚
         * */
        // function Parent2() {
        //     this.names = [];
        //     this.work = function() {
        //         console.log( 'make money');
        //     }
        // }
        // function Child2() {
        //     Parent.call(this, arguments)
        // };

        // 3.ç»„åˆç»§æ‰¿
        /* åŸå‹ç»§æ‰¿å’Œæ„é€ ç»§æ‰¿çš„ç»„åˆ
         * ä¼˜ç¼ºç‚¹ï¼š
         *  - ğŸ‘ å…¬æœ‰çš„å†™åœ¨åŸå‹
            - ğŸ‘ ç§æœ‰çš„å†™åœ¨æ„é€ å‡½æ•°
            - ğŸ‘ å¯ä»¥å‘çˆ¶ç±»ä¼ é€’å‚æ•°
            - âŒ éœ€è¦æ‰‹åŠ¨ç»‘å®š constructor
            - âŒ å°è£…æ€§ä¸€èˆ¬
            - âš¡ é‡å¤è°ƒç”¨çˆ¶ç±»æ€§èƒ½æŸè€—
         * */
        //  function Parent3() {
        //     this.names = [];
        //     this.work = function() {
        //         console.log( 'make money');
        //     }
        // }
        // Child3.prototype = new Parent3();
        // Child3.prototype.constructor = Child3;
        // function Child3() {
        //     Parent.call(this, arguments)
        // };
        // const child3 = new Child3();
        // console.log('child3', child3);

        // 4.åŸå‹å¼ç»§æ‰¿
        /* 
            å³ES6çš„ Object.create(),å°†ä¼ å…¥å¯¹è±¡ä½œä¸ºç”Ÿæˆå¯¹è±¡çš„åŸå‹
            ç¼ºç‚¹ï¼š
            åŒ…å«å¼•ç”¨ç±»å‹çš„å±æ€§å€¼å§‹ç»ˆéƒ½ä¼šå…±äº«ç›¸åº”çš„å€¼ï¼Œè¿™ç‚¹è·ŸåŸå‹é“¾ç»§æ‰¿ä¸€æ ·ã€‚
        */
        // function myCreate(target) {
        //         function F(){}
        //         F.prototype = o;
        //         return new F();
        // }
        // var person = {
        //     name: 'kevin',
        //     friends: ['daisy', 'kelly']
        // }

        // var person1 = createObj(person);
        // var person2 = createObj(person);

        // person1.name = 'person1';
        // console.log(person2.name); // kevin

        // person1.firends.push('taylor');
        // console.log(person2.friends); // ["daisy", "kelly", "taylor"]
        // æ³¨æ„ï¼šä¿®æ”¹person1.nameçš„å€¼ï¼Œperson2.nameçš„å€¼å¹¶æœªå‘ç”Ÿæ”¹å˜ï¼Œå¹¶ä¸æ˜¯å› ä¸ºperson1å’Œperson2æœ‰ç‹¬ç«‹çš„ name å€¼ï¼Œè€Œæ˜¯å› ä¸ºperson1.name = 'person1'ï¼Œç»™person1æ·»åŠ äº† name å€¼ï¼Œå¹¶éä¿®æ”¹äº†åŸå‹ä¸Šçš„ name å€¼ã€‚

        // 5.å¯„ç”Ÿå¼ç»§æ‰¿
        /* åˆ›å»ºä¸€ä¸ªä»…ç”¨äºå°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨å†…éƒ¨ä»¥æŸç§å½¢å¼æ¥åšå¢å¼ºå¯¹è±¡ï¼Œæœ€åè¿”å›å¯¹è±¡ã€‚
        ç¼ºç‚¹ï¼šè·Ÿå€Ÿç”¨æ„é€ å‡½æ•°æ¨¡å¼ä¸€æ ·ï¼Œæ¯æ¬¡åˆ›å»ºå¯¹è±¡éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ã€‚
        ##### ï¼Ÿï¼Ÿï¼ŸğŸ‘ çˆ¶ç±»æ–¹æ³•å¯ä»¥å¤ç”¨
            ğŸ‘ å¢åŠ äº†åˆ«çš„å±æ€§å’Œæ–¹æ³•
            âŒ çˆ¶ç±»å¼•ç”¨å±æ€§å…¨éƒ¨è¢«å…±äº«, åŸå‹é“¾ç»§æ‰¿å¤šä¸ªå®ä¾‹çš„å¼•ç”¨ç±»å‹å±æ€§æŒ‡å‘ç›¸åŒï¼Œå­˜åœ¨ç¯¡æ”¹çš„å¯èƒ½ã€‚
            âŒ å­ç±»ä¸å¯ä¼ é€’å‚æ•°ç»™çˆ¶ç±»
         */
        function createObj(o) {
            var clone = Object.create(o);
            clone.sayName = function () {
                console.log('hi');
            }
            return clone;
        }
        Parent4.prototype = {
            name: 'Parent4'
        }
        function Parent4() {
            this.names = [];
            this.work = function() {
                console.log( 'make money');
            }
        }
        
        const obj4 = createObj(Parent4);
        console.log('obj4', obj4);

        // 6.å¯„ç”Ÿç»„åˆç»§æ‰¿
        /* é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•ç²¾ç›Šæ±‚ç²¾ï¼Œé¿å…è¿™ä¸€æ¬¡é‡å¤è°ƒç”¨å‘¢ï¼Ÿ
        å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨ Child.prototype = new Parent() ï¼Œè€Œæ˜¯é—´æ¥çš„è®© Child.prototype è®¿é—®åˆ° Parent.prototype å‘¢ï¼Ÿ
        çœ‹çœ‹å¦‚ä½•å®ç°ï¼šä¸å®ä¾‹åŒ–çˆ¶ç±»äº†ï¼Œåˆ›å»ºä¸€ä¸ªä¸­é—´ç±»Fï¼Œå®ƒçš„åŸå‹æŒ‡å‘çˆ¶ç±»ï¼Œ
        å†è®©å­ç±»çš„åŸå‹æŒ‡å‘ä¸­é—´ç±»çš„å®ä¾‹
        */
        function Parent6 (name) {
            this.name = name;
            this.colors = ['red', 'blue', 'green'];
        }
        Parent6.prototype.getName = function () {
            console.log(this.name)
        }
        function Child6 (name, age) {
            Parent6.call(this, name);
            this.age = age;
        }
        // å…³é”®çš„ä¸‰æ­¥
        var F = function () {};
        F.prototype = Parent6.prototype;
        Child6.prototype = new F();

        var child6 = new Child6('kevin', '18');
        console.log(child6);

        // æœ€åæˆ‘ä»¬å°è£…ä¸€ä¸‹è¿™ä¸ªç»§æ‰¿æ–¹æ³•ï¼š

        function object(o) {
            function F() {}
            F.prototype = o;
            return new F();
        }

        function prototype(child, parent) {
            var prototype = object(parent.prototype);
            prototype.constructor = child;
            child.prototype = prototype;
        }

        // å½“æˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™ï¼š
        prototype(Child, Parent);
    </script>
</body>
</html>